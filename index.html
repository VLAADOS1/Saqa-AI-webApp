<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>AI Photo Miniâ€‘App</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<style>
  :root{
    --violet-dark:#140019;
    --violet:#43135c;
    --violet-light:#5d2b7b;
    --txt:#fff;
    --radius:14px;
  }
  *{box-sizing:border-box;margin:0;padding:0;font-family:system-ui,-apple-system,'Segoe UI',Roboto,sans-serif}
  body{
    min-height:100vh;color:var(--txt);
    background:
      radial-gradient(circle at 20% 10%,rgba(255,255,255,.06) 0 8%,transparent 10%) repeat,
      radial-gradient(circle at 80% 80%,rgba(255,255,255,.04) 0 6%,transparent 8%) repeat,
      linear-gradient(145deg,var(--violet) 0%,var(--violet-dark) 100%);
    background-size:120px 120px,160px 160px,100% 100%;
    display:flex;align-items:center;justify-content:center;
    padding:3vh 3vw;
  }

  .hidden{display:none!important}

  .grid{
    display:grid;
    gap:10px;
    width:100%;
    max-width:380px;
    grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
  }

  .span-2{grid-column:span 2}

  button{
    background:var(--violet);
    border:2px solid rgba(255,255,255,.07);
    border-radius:var(--radius);
    color:var(--txt);
    font-size:18px;
    font-weight:600;
    padding:14px 12px;
    text-align:left;
    display:flex;
    align-items:center;
    gap:8px;
    cursor:pointer;
    transition:background .25s,transform .15s;
    width:100%;
  }
  button:active{transform:scale(.97)}
  button:hover{background:var(--violet-light)}
  .icon{font-size:1.4em;flex:0 0 auto}
  @media(max-width:380px){button{font-size:16px}}

  #btnHelp{justify-content:center;text-align:center}
  #btnEnhance,#btnResize{justify-content:center;text-align:center}

  .info-wrap{
    max-width:380px;width:100%;
    background:rgba(0,0,0,.35);
    border:2px solid rgba(255,255,255,.1);
    border-radius:var(--radius);
    padding:16px 18px;
    line-height:1.36;
    font-size:16px;
  }
  .info-wrap h3{margin:0 0 8px;font-size:17px}
  .info-wrap p{margin:10px 0}
</style>
</head>
<body>

<!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Ğ“Ğ›ĞĞ’ĞĞĞ¯ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<section id="page-main">
  <div class="grid">
    <!-- 1â€‘Ğ¹ Ñ€ÑĞ´ -->
    <button id="btnPhoto"><span class="icon">ğŸ“·</span> Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ñ„Ğ¾Ñ‚Ğ¾</button>
    <button id="btnVideo"><span class="icon">ğŸ¬</span> Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ²Ğ¸Ğ´ĞµĞ¾</button>

    <!-- 2â€‘Ğ¹ Ñ€ÑĞ´: ÑƒĞ»ÑƒÑ‡ÑˆĞ¸Ñ‚ÑŒ + ÑƒĞ²ĞµĞ»Ğ¸Ñ‡Ğ¸Ñ‚ÑŒ -->
    <button id="btnEnhance"><span class="icon">âœ¨</span> Ğ£Ğ»ÑƒÑ‡ÑˆĞ¸Ñ‚ÑŒ Ñ„Ğ¾Ñ‚Ğ¾</button>
    <button id="btnResize"><span class="icon">ğŸ“</span> Ğ£Ğ²ĞµĞ»Ğ¸Ñ‡Ğ¸Ñ‚ÑŒ Ñ„Ğ¾Ñ‚Ğ¾</button>

    <!-- 3â€‘Ğ¹ Ñ€ÑĞ´ -->
    <button id="btnAgent"><span class="icon">ğŸ§¬</span> Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ°Ğ³ĞµĞ½Ñ‚Ğ°</button>
    <button id="btnClothes"><span class="icon">ğŸ‘•</span> Ğ¡Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ¾Ğ´ĞµĞ¶Ğ´Ñƒ</button>

    <!-- 4â€‘Ğ¹ Ñ€ÑĞ´ -->
    <button id="btnSwitchAgent"><span class="icon">ğŸ”„</span> Ğ¡Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ°Ğ³ĞµĞ½Ñ‚Ğ°</button>
    <button id="btnFilters"><span class="icon">ğŸ¨</span> ĞĞ°ÑˆĞ¸ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹</button>

    <!-- 5â€‘Ğ¹ Ñ€ÑĞ´ -->
    <button id="btnBalance"><span class="icon">ğŸ”</span> ĞœĞ¾Ğ¹ Ğ±Ğ°Ğ»Ğ°Ğ½Ñ</button>
    <button id="btnBuy"><span class="icon">ğŸ’°</span> ĞšÑƒĞ¿Ğ¸Ñ‚ÑŒ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸</button>

    <!-- 6â€‘Ğ¹ Ñ€ÑĞ´ -->
    <button id="btnHelp" class="span-2"><span class="icon">â„¹ï¸</span> ĞŸĞ¾Ğ¼Ğ¾Ñ‰ÑŒ</button>
  </div>
</section>

<!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Ğ’Ğ«Ğ‘ĞĞ  Ğ¤Ğ˜Ğ›Ğ¬Ğ¢Ğ Ğ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<section id="page-filters" class="hidden">
  <div class="grid">
    <button id="back-filters" class="span-2"><span class="icon">â¬…ï¸</span> ĞĞ°Ğ·Ğ°Ğ´</button>

    <button data-filter="yakut_woman"><span class="icon">ğŸ‘¸</span> Ğ–ĞµĞ½ÑĞºĞ¸Ğ¹ ÑĞºÑƒÑ‚ÑĞºĞ¸Ğ¹ ĞºĞ¾ÑÑ‚ÑĞ¼</button>
    <button data-filter="yakut_man"><span class="icon">ğŸ‘‘</span> ĞœÑƒĞ¶ÑĞºĞ¾Ğ¹ ÑĞºÑƒÑ‚ÑĞºĞ¸Ğ¹ ĞºĞ¾ÑÑ‚ÑĞ¼</button>

    <button data-filter="vibe"><span class="icon">ğŸ’°</span> ĞœĞ¸Ğ»Ğ»Ğ¸Ğ°Ñ€Ğ´ĞµÑ€ Vibe</button>
    <button data-filter="on_beach"><span class="icon">ğŸ–ï¸</span> ĞĞ° Ğ¿Ğ»ÑĞ¶Ğµ</button>
    <button data-filter="photoshoot"><span class="icon">ğŸ“¸</span> Ğ¤Ğ¾Ñ‚Ğ¾ÑĞµÑÑĞ¸Ñ</button>
    <button data-filter="portrait"><span class="icon">ğŸ–¼ï¸</span> ĞŸĞ¾Ñ€Ñ‚Ñ€ĞµÑ‚</button>
    <button data-filter="children"><span class="icon">ğŸ‘¶</span> Ğ ĞµĞ±Ñ‘Ğ½Ğ¾Ğº</button>
    <button data-filter="nature_spirit"><span class="icon">ğŸŒ¿</span> Ğ”ÑƒÑ… Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ñ‹</button>
    <button data-filter="ufc_fighter"><span class="icon">ğŸ¥Š</span> Ğ‘Ğ¾ĞµÑ† UFC</button>
    <button data-filter="soviet_style"><span class="icon">ğŸ–¥ï¸</span> Ğ¡Ğ¾Ğ²ĞµÑ‚ÑĞºĞ¸Ğ¹ ÑÑ‚Ğ¸Ğ»ÑŒ</button>
    <button data-filter="custom" class="span-2"><span class="icon">âœï¸</span> Ğ¡Ğ²Ğ¾Ğ¹ Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚</button>
  </div>
</section>

<!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Ğ’Ğ«Ğ‘ĞĞ  Ğ ĞĞ—ĞœĞ•Ğ Ğ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<section id="page-resize" class="hidden">
  <div class="grid">
    <button id="back-resize" class="span-2"><span class="icon">â¬…ï¸</span> ĞĞ°Ğ·Ğ°Ğ´</button>

    <!-- Ğ¿Ğ¾Ğ»Ğ½Ñ‹Ğ¹ Ğ½Ğ°Ğ±Ğ¾Ñ€ ÑĞ¾Ğ¾Ñ‚Ğ½Ğ¾ÑˆĞµĞ½Ğ¸Ğ¹ -->
    <button data-size="1:1"><span class="icon">ğŸ”²</span> 1 Ã— 1</button>
    <button data-size="2:3"><span class="icon">ğŸ–¼ï¸</span> 2 Ã— 3</button>
    <button data-size="3:2"><span class="icon">ğŸ“</span> 3 Ã— 2</button>
    <button data-size="3:4"><span class="icon">ğŸ§©</span> 3 Ã— 4</button>
    <button data-size="4:3"><span class="icon">ğŸ“º</span> 4 Ã— 3</button>
    <button data-size="4:5"><span class="icon">â˜‘ï¸</span> 4 Ã— 5</button>
    <button data-size="5:4"><span class="icon">ğŸ”³</span> 5 Ã— 4</button>
    <button data-size="9:16"><span class="icon">ğŸ“±</span> 9 Ã— 16</button>
    <button data-size="16:9"><span class="icon">ğŸï¸</span> 16 Ã— 9</button>
  </div>
</section>

<!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Ğ˜ĞĞ¤Ğ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<section id="page-info" class="hidden">
  <div class="grid">
    <button id="back-info" class="span-2"><span class="icon">â¬…ï¸</span> ĞĞ°Ğ·Ğ°Ğ´</button>
  </div>

  <div class="info-wrap">
    <h3>ğŸ§  ĞĞµĞ¹Ñ€Ğ¾â€‘Ğ¾Ğ±Ñ€Ğ°Ğ·Ñ‹ â€” Ğ²Ñ‹Ğ±ĞµÑ€Ğ¸ ÑÑ‚Ğ¸Ğ»ÑŒ Ğ´Ğ»Ñ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸!</h3>
    <p>ĞŸĞ¾ÑĞ»Ğµ Ğ¾Ğ±ÑƒÑ‡ĞµĞ½Ğ¸Ñ Ğ°Ğ³ĞµĞ½Ñ‚Ğ° Ğ¿Ğ¾ Ñ‚Ğ²Ğ¾Ğ¸Ğ¼ 25 Ñ„Ğ¾Ñ‚Ğ¾ Ñ‚Ñ‹ ÑĞ¼Ğ¾Ğ¶ĞµÑˆÑŒ ÑĞ¾Ğ·Ğ´Ğ°Ğ²Ğ°Ñ‚ÑŒ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ <strong>Ñ Ñ‚Ğ²Ğ¾Ğ¸Ğ¼ Ğ»Ğ¸Ñ†Ğ¾Ğ¼</strong> Ğ² Ñ€Ğ°Ğ·Ğ½Ñ‹Ñ… ÑÑ‚Ğ¸Ğ»ÑÑ….</p>
    <p>ğŸ‘‘ ĞœÑƒĞ¶ÑĞºĞ¾Ğ¹ / ğŸ‘¸ Ğ–ĞµĞ½ÑĞºĞ¸Ğ¹ ÑĞºÑƒÑ‚ÑĞºĞ¸Ğ¹ ĞºĞ¾ÑÑ‚ÑĞ¼<br>
       ğŸ’° ĞœĞ¸Ğ»Ğ»Ğ¸Ğ°Ñ€Ğ´ĞµÑ€ Vibe Â· ğŸ– ĞĞ° Ğ¿Ğ»ÑĞ¶Ğµ<br>
       ğŸ“¸ Ğ¤Ğ¾Ñ‚Ğ¾ÑĞµÑÑĞ¸Ñ Â· ğŸ–¼ ĞŸĞ¾Ñ€Ñ‚Ñ€ĞµÑ‚ Â· ğŸ‘¶ Ğ ĞµĞ±Ñ‘Ğ½Ğ¾Ğº</p>
  </div>
</section>

<!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ĞŸĞĞœĞĞ©Ğ¬ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<section id="page-help" class="hidden">
  <div class="grid">
    <button id="back-help" class="span-2"><span class="icon">â¬…ï¸</span> ĞĞ°Ğ·Ğ°Ğ´</button>
  </div>

  <div class="info-wrap">
    <h3>ğŸ“˜ ĞŸĞ¾Ğ¼Ğ¾Ñ‰ÑŒ</h3>
    <p>Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² <strong>Sagaâ€¯AI</strong> â€” Ğ±Ğ¾Ñ‚, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ ÑĞ¾Ğ·Ğ´Ğ°Ñ‘Ñ‚ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ°Ğ³ĞµĞ½Ñ‚Ğ° Ğ¿Ğ¾ Ñ‚Ğ²Ğ¾Ğ¸Ğ¼ Ñ„Ğ¾Ñ‚ĞºĞ°Ğ¼ Ğ¸ Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ‚ Ñ‚Ğ¾Ğ¿Ğ¾Ğ²Ñ‹Ğµ Ğ¾Ğ±Ñ€Ğ°Ğ·Ñ‹ ğŸ’«</p>
    <p>ğŸ”§ Ğ¡Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ° Ğ·Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸ 25 Ñ„Ğ¾Ñ‚Ğ¾ Ğ»Ğ¸Ñ†Ğ° (Â«Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ°Ğ³ĞµĞ½Ñ‚Ğ°Â»), Ğ·Ğ°Ñ‚ĞµĞ¼ Ğ²Ñ‹Ğ±Ğ¸Ñ€Ğ°Ğ¹ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹ Ğ¸Ğ»Ğ¸ ÑƒĞ»ÑƒÑ‡ÑˆĞ°Ğ¹/ÑƒĞ²ĞµĞ»Ğ¸Ñ‡Ğ¸Ğ²Ğ°Ğ¹ Ñ„Ğ¾Ñ‚Ğ¾.</p>
    <p>ğŸ’³ 1 Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ = âˆ’1 Ğ±Ğ°Ğ»Ğ°Ğ½Ñ. ĞŸĞ¾Ğ¿Ğ¾Ğ»Ğ½ÑĞ¹ Ñ‡ĞµÑ€ĞµĞ· Â«ĞšÑƒĞ¿Ğ¸Ñ‚ÑŒ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸Â».</p>
    <p>â“ Ğ’Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹? ĞŸĞ¸ÑˆĞ¸ <a href="https://t.me/saga_ai" target="_blank">@saga_ai</a></p>
  </div>
</section>

<!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ JS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<script>
if (window.Telegram && Telegram.WebApp){
  Telegram.WebApp.ready();
  Telegram.WebApp.expand();
}

const $     = s => document.querySelector(s);
const show  = el => el.classList.remove('hidden');
const hide  = el => el.classList.add('hidden');

const pageMain    = $('#page-main');
const pageFilters = $('#page-filters');
const pageResize  = $('#page-resize');
const pageInfo    = $('#page-info');
const pageHelp    = $('#page-help');

function send(action, payload = {}){
  const data = JSON.stringify({ action, ...payload });
  if (Telegram.WebApp){
    Telegram.WebApp.sendData(data);
  } else {
    console.log('DEBUG', data);
    alert('DEBUG ' + data);
  }
}

/* â”€â”€ Ğ³Ğ»Ğ°Ğ²Ğ½Ñ‹Ğµ ĞºĞ½Ğ¾Ğ¿ĞºĞ¸ â”€â”€ */
$('#btnPhoto').onclick   = () => { hide(pageMain); show(pageFilters); };
$('#btnVideo').onclick   = () => send('create_video');

$('#btnAgent').onclick   = () => send('create_agent');
$('#btnClothes').onclick = () => window.location.href = 'main.html';
$('#btnSwitchAgent').onclick = () => send('change_agent');

$('#btnFilters').onclick = () => { hide(pageMain); show(pageInfo); };
$('#btnBalance').onclick = () => send('balance');
$('#btnBuy').onclick     = () => send('buy_generations');

$('#btnEnhance').onclick = () => send('enhance_photo');
$('#btnResize').onclick  = () => { hide(pageMain); show(pageResize); };

$('#btnHelp').onclick    = () => { hide(pageMain); show(pageHelp); };

/* â”€â”€ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚ â”€â”€ */
$('#back-filters').onclick = () => { show(pageMain); hide(pageFilters); };
$('#back-resize').onclick  = () => { show(pageMain); hide(pageResize); };
$('#back-info').onclick    = () => { show(pageMain); hide(pageInfo); };
$('#back-help').onclick    = () => { show(pageMain); hide(pageHelp); };

/* â”€â”€ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹ â”€â”€ */
pageFilters.querySelectorAll('button[data-filter]').forEach(btn => {
  btn.onclick = () => {
    send('generate_photo', { filter: btn.dataset.filter });
    show(pageMain); hide(pageFilters);
  };
});

/* â”€â”€ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€Ñ‹ â”€â”€ */
pageResize.querySelectorAll('button[data-size]').forEach(btn => {
  btn.onclick = () => {
    send('resize_photo', { size: btn.dataset.size });   // <â”€ ĞºĞ»ÑÑ‡ĞµĞ²Ğ¾Ğ¹ Ğ²Ñ‹Ğ·Ğ¾Ğ²
    show(pageMain); hide(pageResize);
  };
});
</script>
</body>
</html>
